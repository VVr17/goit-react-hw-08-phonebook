{"version":3,"file":"static/js/342.3caf17be.chunk.js","mappings":"gVAEaA,EAAOC,EAAAA,EAAAA,KAAH,8CACD,SAAAC,GAAC,OAAIA,EAAEC,MAAMC,MAAM,EAAlB,I,iDCDJC,EAAYJ,EAAAA,EAAAA,IAAH,qgBASH,SAAAC,GAAC,OAAIA,EAAEC,MAAMG,WAAWC,IAAvB,IACH,SAAAL,GAAC,OAAIA,EAAEC,MAAMK,UAAUC,CAAtB,IAGL,SAAAP,GAAC,OAAIA,EAAEC,MAAMO,OAAOC,eAAnB,IAIS,SAAAT,GAAC,OAAIA,EAAEC,MAAMC,MAAM,EAAlB,IAEhB,SAAAF,GAAC,OAAIA,EAAEC,MAAMS,aAAaC,MAAzB,IACgB,SAAAX,GAAC,OAAIA,EAAEC,MAAMC,MAAM,EAAlB,IAIpB,SAAAF,GAAC,OAAIA,EAAEC,MAAMS,aAAaC,MAAzB,IACY,SAAAX,GAAC,OAAIA,EAAEC,MAAMK,UAAUM,CAAtB,IAGd,SAAAZ,GAAC,OAAIA,EAAEC,MAAMS,aAAaG,KAAzB,IACY,SAAAb,GAAC,OAAIA,EAAEC,MAAMK,UAAUQ,CAAtB,I,SCxBPC,EAAqB,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,gBAAiBC,EAAiB,EAAjBA,WAC9CC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAQjB,OACE,UAAClB,EAAD,YACE,iCAASa,EAAgBM,KAAKC,cAA9B,+BACA,2DACA,UAACC,EAAA,EAAD,CACEC,QAAQ,OACRC,eAAe,SACfC,WAAW,SACXC,QAAQ,OAJV,WAME,SAACC,EAAA,EAAD,CAAQC,QAhBd,WACEZ,GAASa,EAAAA,EAAAA,IAAcf,IACvBC,IACAG,EAAS,YACV,EAYuCE,KAAK,UAAvC,qBAGA,SAACO,EAAA,EAAD,CAAQP,KAAK,UAAUQ,QAASb,EAAhC,yBAMP,ECjBKe,EAAgB,CACpBV,KAAM,GACNW,OAAQ,IAGJC,EAAmBC,EAAAA,KAAaC,MAAM,CAC1Cd,KAAMa,EAAAA,KAEHE,IAAI,EAAG,wCACPC,IAAI,GAAI,wCACRC,QACC,yHACA,0IAEDC,SAAS,oBACZP,OAAQE,EAAAA,KAELI,QACC,6EACA,gGAEDC,SAAS,wBAGDC,EAAiB,WAC5B,IAAMvB,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXqB,GAAWC,EAAAA,EAAAA,IAAYC,EAAAA,EAAAA,gBACvBC,GAAYF,EAAAA,EAAAA,IAAYC,EAAAA,EAAAA,eAE9B,GAAsCE,EAAAA,EAAAA,WAAS,GAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAkDF,EAAAA,EAAAA,UAAS,MAA3D,eAAOG,EAAP,KAA0BC,EAA1B,KACMC,EAAc,kBAAMH,GAAe,SAAAI,GAAc,OAAKA,CAAL,GAAnC,EAEpB,GAKIC,EAAAA,EAAAA,IAAQ,CACVC,eAAc,UAAMtB,GACpBuB,UAAUC,EAAAA,EAAAA,GAAYtB,KANtBuB,EADF,EACEA,SACAC,EAFF,EAEEA,aACAC,EAHF,EAGEA,MACaC,EAJf,EAIEC,UAAaD,OA6Bf,OACE,iCAEE,UAAC9D,EAAD,CAAMgE,SAAUJ,GArBH,SAAAK,GACf,IAAQzC,EAASyC,EAATzC,KACF0C,EAPc,SAAC1C,GAAyB,IAAnBoB,EAAkB,uDAAP,GAChCuB,EAAiB3C,EAAK4C,cAC5B,OAAOxB,EAASyB,MAAK,qBAAG7C,KAAgB4C,gBAAkBD,CAArC,GACtB,CAI8BG,CAAc9C,EAAMoB,GAEjD,GAAIA,GAAYsB,EAAsB,CACpCK,EAAAA,GAAAA,KAAA,iBAAc/C,QAAd,IAAcA,OAAd,EAAcA,EAAMC,cAApB,4BACA,IAAQ+C,EAAON,EAAPM,GAIR,OAFApB,GAAqB,kBAAKa,GAAN,IAAYO,GAAAA,UAChCnB,GAED,CAEDjC,GAASqD,EAAAA,EAAAA,IAAWR,IACpB3C,EAAS,aACTuC,GACD,IAKG,WACE,SAACa,EAAAC,EAAD,CACEnD,KAAK,OACLoD,YAAY,OACZjB,SAAUA,EACVkB,MAAOf,EAAOtC,QAEhB,SAACkD,EAAAC,EAAD,CACEG,KAAMC,EAAAA,GAAAA,IACNvD,KAAK,SACLoD,YAAY,eACZjB,SAAUA,EACVkB,MAAOf,EAAO3B,UAEhB,SAAC6C,EAAA,EAAD,CAAQjC,UAAWA,KACnB,UAACrB,EAAA,EAAD,CACEC,QAAS,CAAC,QACVC,eAAgB,gBAChBqD,SAAS,QACTC,GAAG,OAJL,WAME,SAACnD,EAAA,EAAD,CAAQ+C,KAAK,SAAStD,KAAK,UAAU2D,SAAUlC,EAA/C,0BAGA,SAAC,IAAD,CAAYmC,GAAG,YAAf,+BAGHnC,IACC,SAACoC,EAAA,EAAD,CAAOlE,WAAYkC,EAAnB,UACE,SAACpC,EAAD,CACEC,gBAAiBiC,EACjBhC,WAAYkC,QAMvB,E,UCnHD,EARmB,WACjB,OACE,SAACiC,EAAA,EAAD,CAASC,MAAM,qBAAf,UACE,SAAC5C,EAAD,KAGL,C","sources":["components/NewContactForm/NewContactForm.styled.js","components/UpdateContactModal/UpdateContactModal.styled.js","components/UpdateContactModal/UpdateContactModal.jsx","components/NewContactForm/NewContactForm.jsx","pages/NewContact/NewContact.jsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const Form = styled.form`\n  margin-top: ${p => p.theme.space[3]}px;\n`;\n","import styled from '@emotion/styled';\n\nexport const Container = styled.div`\n  min-width: 200px;\n  min-height: 160px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  p {\n    font-weight: ${p => p.theme.fontWeight.bold};\n    font-size: ${p => p.theme.fontSizes.s};\n    line-height: 1.18;\n    letter-spacing: 0.05em;\n    color: ${p => p.theme.colors.accentTextColor};\n    text-align: center;\n\n    :last-of-type {\n      margin-bottom: ${p => p.theme.space[3]}px;\n\n      ${p => p.theme.mediaQueries.medium} {\n        margin-bottom: ${p => p.theme.space[4]}px;\n      }\n    }\n\n    ${p => p.theme.mediaQueries.medium} {\n      font-size: ${p => p.theme.fontSizes.m};\n    }\n\n    ${p => p.theme.mediaQueries.large} {\n      font-size: ${p => p.theme.fontSizes.l};\n    }\n  }\n`;\n","import { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom/dist';\nimport { Box } from 'components/Box/Box';\nimport { Button } from 'components/Button/Button';\nimport { Container } from './UpdateContactModal.styled';\nimport { updateContact } from 'redux/contacts/contactsOperations';\n\nexport const UpdateContactModal = ({ contactToUpdate, closeModal }) => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  function onUpdateContact() {\n    dispatch(updateContact(contactToUpdate));\n    closeModal();\n    navigate('/contacts');\n  }\n\n  return (\n    <Container>\n      <p>User {contactToUpdate.name.toUpperCase()} is already in Contacts.</p>\n      <p>Do you want to update contact?</p>\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        gridGap=\"16px\"\n      >\n        <Button onClick={onUpdateContact} name=\"primary\">\n          Update\n        </Button>\n        <Button name=\"primary\" onClick={closeModal}>\n          Cancel\n        </Button>\n      </Box>\n    </Container>\n  );\n};\n","import { toast } from 'react-toastify'; // Notifications\nimport { useState } from 'react';\nimport { useForm } from 'react-hook-form'; // Forms\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom/dist';\nimport { yupResolver } from '@hookform/resolvers/yup'; // for React-hook-form work with Yup\nimport * as yup from 'yup'; // Form validation\nimport { addContact } from 'redux/contacts/contactsOperations';\nimport { Box } from 'components/Box/Box';\nimport { Button } from 'components/Button/Button';\nimport { contactsSelectors } from 'redux/contacts/contactsSelectors';\nimport { Form } from './NewContactForm.styled';\nimport { Input } from '../Input/Input';\nimport { INPUT_TYPES } from 'constants/constants';\nimport { LinkStyled } from 'components/Navigation/NavLink/NavLink.styled';\nimport { Loader } from 'components/Loader/Loader';\nimport { Modal } from 'components/Modal/Modal';\nimport { UpdateContactModal } from 'components/UpdateContactModal/UpdateContactModal';\n\nconst INITIAL_STATE = {\n  name: '',\n  number: '',\n};\n\nconst validationSchema = yup.object().shape({\n  name: yup\n    .string()\n    .min(4, 'Name should be at least 4 characters')\n    .max(20, 'Name should be at most 20 characters')\n    .matches(\n      /^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$/,\n      \"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n    )\n    .required('Name is required'),\n  number: yup\n    .string()\n    .matches(\n      /\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}/,\n      'Phone number must be digits and can contain spaces, dashes, parentheses and can start with +'\n    )\n    .required('Number is required'),\n});\n\nexport const NewContactForm = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const contacts = useSelector(contactsSelectors.selectContacts);\n  const isLoading = useSelector(contactsSelectors.selectLoading);\n\n  const [modalIsOpen, setModalIsOpen] = useState(false);\n  const [duplicatedContact, setDuplicatedContact] = useState(null);\n  const toggleModal = () => setModalIsOpen(prevModalState => !prevModalState);\n\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { errors },\n  } = useForm({\n    defaultValues: { ...INITIAL_STATE },\n    resolver: yupResolver(validationSchema),\n  });\n\n  const isInPhoneBook = (name, contacts = []) => {\n    const normalizedName = name.toLowerCase();\n    return contacts.find(({ name }) => name.toLowerCase() === normalizedName);\n  };\n\n  const onSubmit = data => {\n    const { name } = data;\n    const contactIsInPhoneBook = isInPhoneBook(name, contacts);\n\n    if (contacts && contactIsInPhoneBook) {\n      toast.warn(`${name?.toUpperCase()} is already in CONTACTS`);\n      const { id } = contactIsInPhoneBook;\n\n      setDuplicatedContact({ ...data, id });\n      toggleModal();\n      return;\n    }\n\n    dispatch(addContact(data));\n    navigate('/contacts');\n    reset();\n  };\n\n  return (\n    <>\n      {/* \"handleSubmit\" will validate inputs before invoking \"onSubmit\"  */}\n      <Form onSubmit={handleSubmit(onSubmit)}>\n        <Input\n          name=\"name\"\n          placeholder=\"Name\"\n          register={register}\n          error={errors.name}\n        />\n        <Input\n          type={INPUT_TYPES.tel}\n          name=\"number\"\n          placeholder=\"Phone number\"\n          register={register}\n          error={errors.number}\n        />\n        <Loader isLoading={isLoading} />\n        <Box\n          display={['flex']}\n          justifyContent={'space-between'}\n          maxWidth=\"280px\"\n          mx=\"auto\"\n        >\n          <Button type=\"submit\" name=\"primary\" disabled={modalIsOpen}>\n            Add Contact\n          </Button>\n          <LinkStyled to=\"/contacts\">To Contacts</LinkStyled>\n        </Box>\n      </Form>\n      {modalIsOpen && (\n        <Modal closeModal={toggleModal}>\n          <UpdateContactModal\n            contactToUpdate={duplicatedContact}\n            closeModal={toggleModal}\n          />\n        </Modal>\n      )}\n    </>\n  );\n};\n","import { NewContactForm } from 'components/NewContactForm/NewContactForm';\nimport { Section } from 'components/Section/Section';\n\nconst NewContact = () => {\n  return (\n    <Section title=\"Create new contact\">\n      <NewContactForm />\n    </Section>\n  );\n};\n\nexport default NewContact;\n"],"names":["Form","styled","p","theme","space","Container","fontWeight","bold","fontSizes","s","colors","accentTextColor","mediaQueries","medium","m","large","l","UpdateContactModal","contactToUpdate","closeModal","dispatch","useDispatch","navigate","useNavigate","name","toUpperCase","Box","display","justifyContent","alignItems","gridGap","Button","onClick","updateContact","INITIAL_STATE","number","validationSchema","yup","shape","min","max","matches","required","NewContactForm","contacts","useSelector","contactsSelectors","isLoading","useState","modalIsOpen","setModalIsOpen","duplicatedContact","setDuplicatedContact","toggleModal","prevModalState","useForm","defaultValues","resolver","yupResolver","register","handleSubmit","reset","errors","formState","onSubmit","data","contactIsInPhoneBook","normalizedName","toLowerCase","find","isInPhoneBook","toast","id","addContact","Input","I","placeholder","error","type","INPUT_TYPES","Loader","maxWidth","mx","disabled","to","Modal","Section","title"],"sourceRoot":""}